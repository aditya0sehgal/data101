<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questions generated</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <style>
        tr{
            border: 1px solid;
        }
        th{
            float: left;
        }
    </style>
</head>
<body>
    <br>
    Yayy!! Questions are generated for you. 
    <br>
    Check them below.
    Also you can locate the local file : Questions.csv 
    or download it using the button 
    <button class="btn btn-sm btn-primary" onclick="exportToCSV('Questions.csv')"> Download csv file </button>   
    <a id="csvDownloadLink" style="display: none;"></a>

    <br>
    <br>
    {{ data }}
    <br>
    <br>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>

<script>
//     function download(csv, filename) {  
//     var csvFile;  
//     var downloadLink;  
//     csvFile = new Blob([csv], {type: 'text/csv'});  
//     downloadLink = document.createElement("a");  
//     downloadLink.download = filename;  
//     downloadLink.href = window.URL.createObjectURL(csvFile);  
//     downloadLink.style.display = "none";  
  
//     document.body.appendChild(downloadLink);  
//     downloadLink.click();  
// }  
  
// function exportToCSV(filename) {  
//    var csv = [];  
//    var rows = document.querySelectorAll("table tr");  
   
//    for(var i=0; i<rows.length; i++) {  
//     var row = [], cols = rows[i].querySelectorAll("td, th");  
//     for( var j=0; j<cols.length; j++)  
//        row.push(cols[j].innerText);  
//     csv.push(row.join(","));  
//    }   
//    download(csv.join("\n"), filename);  
// }

function exportToCSV(filename) {  
   
    const csvDownloadLink = document.getElementById("csvDownloadLink");
    
    const csvFilePath = "datasets/Questions.csv";
    
    // Set the link's href to the CSV file path
    csvDownloadLink.setAttribute("href", csvFilePath);
    
    // Set the download attribute to the desired file name
    csvDownloadLink.setAttribute("download", "Questions.csv");
    
    // Click the link to trigger the download
    csvDownloadLink.click();
}
</script>
</html>